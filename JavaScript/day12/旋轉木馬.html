<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css.css">
    <script src="js/and.js"></script>
    <script>

        window.onload=function () {
            var wrap=document.getElementById("wrap")
            var slide=wrap.children[0];
            var lis=slide.children[0].children;
            var arrow=slide.children[1];

            var json=[{
                width:400,
                top:20,
                left:50,
                opacity:20,
                z:2
            },{
                width:600,
                top:70,
                left:0,
                opacity:80,
                z:3
            },{
                width:800,
                top:100,
                left:200,
                opacity:100,
                z:4
            },{
                width:600,
                top:70,
                left:600,
                opacity:80,
                z:3
            },{
                width:400,
                top:20,
                left:750,
                opacity:20,
                z:2
            }]
            var spans=arrow.children;
            mova();
            var flag=true;//節流器
//        兩個按鈕
            wrap.onmouseover=function () {
                animate(arrow,{opacity:100
                })
            }

            wrap.onmouseout=function () {
                animate(arrow,{opacity:0
                })
            }

            for (var a in spans){
//                spans[a].innerHTML=1+a
//                檢測數組排列是否正常
                spans[a].onclick=function () {
                  if (this.className=="prev"){
//                      alert(11)
                      if(flag==true){
                          mova(true)
                          flag=false
                      }


                  }

                  else {
//                      alert(12)
                      if (flag==true){}
                      mova(false)
                      flag=false
                  }


                }
            }


            function mova(X) {
                if (X!=undefined){
                    if(X){
                        json.unshift(json.pop())
                    }
                    else {
                        json.push(json.shift())
                    }
                }
                for (var a=0;a<lis.length;a++){
                    animate(lis[a],{
                        width:json[a].width,
                        top:json[a].top,
                        left:json[a].left,
                        opacity:json[a].opacity,
                        zIndex:json[a].z
                    },function () {
                        flag=true
                    })
                }

            }

        }

    </script>
</head>
<body>
<div class="wrap" id="wrap">
    <div class="slide" id="slide">
        <ul>
            <li><a href="#"><img src="images/slidepic1.jpg" alt=""/></a></li>
            <li><a href="#"><img src="images/slidepic2.jpg" alt=""/></a></li>
            <li><a href="#"><img src="images/slidepic3.jpg" alt=""/></a></li>
            <li><a href="#"><img src="images/slidepic4.jpg" alt=""/></a></li>
            <li><a href="#"><img src="images/slidepic5.jpg" alt=""/></a></li>
        </ul>
        <div class="arrow" id="arrow">
            <a href="javascript:;" class="prev"></a>
            <a href="javascript:;" class="next"></a>
        </div>
    </div>
</div>
</body>
</html>