<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .box{
            width: 300px;
            height: 500px;
            border: 1px solid #8e1f1f;
            margin: 100px;
            position: relative;
            /*overflow: hidden;*/
        }

        .content{
            padding: 4px 18px 4px 4px;
            position: absolute;
            top: 0;
            left: 0;

        }

        .scroll{
            width: 18px;
            height: 100%;
            position: absolute;
            background-color: #eee;
            top: 0;
            right: 0;
        }

        .bar{
            height: 100px;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-color: red;
            border-radius: 10px;
            cursor: default;
        }


    </style>
</head>
<body>
<div class="box" id="box">
    <div class="content" id="content">
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
    </div>
    <div class="scroll">
        <div class="bar"></div>
    </div>
</div>
</body>
</html>
<script src="scroll01.js" type="text/javascript"></script>
<script>
  var box=document.getElementById("box")
    var content=box.children[0];
  var  scroll=box.children[1];
  var bar=scroll.children[0]
var heightline=scroll.offsetHeight*box.offsetHeight/content.offsetHeight
  bar.style.height=heightline+"px"
    bar.onmousedown=function (event) {
        var event=event||window.event
        var pageY=event.pageY||event.clientY+scroll().top
        var t=pageY-bar.offsetTop
        document.onmousemove=function (event) {
            var event=event||window.event
            var pagey=event.pageY||event.clientY+scroll().top
            y=pagey-t;
            var  cont=(content.offsetHeight-box.offsetHeight)/(box.offsetHeight-bar.offsetHeight)*y;
            if(y<0){
                y=0;
            }
            else if(y>box.offsetHeight-bar.offsetHeight){
                y=box.offsetHeight-bar.offsetHeight
            }
            else {
                content.style.top=-cont+"px";
            }
bar.style.top=y+"px";
            window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();

        }
        document.onmouseup=function () {
            document.onmousemove=null;
        }

    }
</script>