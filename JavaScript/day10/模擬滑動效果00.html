<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .box{
            border: 1px solid #8e1f1f;
            width: 300px;
            height: 500px;
            position: relative;
            margin: 100px;
        }

        .content{
            padding:5px 18px 5px 5px ;
            position: absolute;
            top: 0;
            left: 0;
            /*background-color: #ff4941;*/
        }

        .scroll{
            width: 18px;
            height: 100%;
            position: absolute;
            background-color: #eee;
            top: 0;
            right: 0;
        }

        .bar{
            height: 100px;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-color: red;
            border-radius: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div class="box" id="box">
    <div class="content" id="content">
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
    </div>
    <div class="scroll">
        <div class="bar" id="bar"></div>
    </div>
</div>
</body>
</html>
<script src="scroll01.js" type="text/javascript"></script>
<script>
    var  box=document.getElementById("box")
    var  content=box.children[0]
    var  scroll=box.children[1]
    var  bar=scroll.children[0]
    var  heighrline=box.offsetHeight/content.offsetHeight*box.offsetHeight

    bar.style.height=heighrline+"px"

    bar.onmousedown=function (event) {
        var  event=event||window.event
        var pagey=event.pageY||event.clientY+scroll().top
       var t=pagey-bar.offsetTop

        document.onmousemove=function (event) {
            var event=event||window.event
            var pagey=event.pageY||event.clientY+scroll().top
         var y=pagey-t;
            var bili=(content.offsetHeight-box.offsetHeight)/(box.offsetHeight-bar.offsetHeight)
            if(y<0)
            {
                y=0
            }
            else if(y>box.offsetHeight-bar.offsetHeight){
                y=box.offsetHeight-bar.offsetHeight
            }
        else {
            content.style.top=-y*bili+"px"
        } bar.style.top=y+"px"
        window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()
        document.onmouseup=function () {
            document.onmousemove=null
        }
    }
    }


</script>